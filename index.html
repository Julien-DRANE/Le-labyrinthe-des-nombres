<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Mission Mathématique</title>
    <!-- Balise Meta Viewport pour une bonne responsivité sur mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google Font: Orbitron -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <!-- Lien vers le fichier CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Fond étoilé -->
    <div class="starfield"></div>

    <!-- Jauge d'Oxygène Ronde -->
    <canvas id="oxygenCanvas" width="100" height="100"></canvas>

    <div class="game-container">
        <!-- Titre du Jeu -->
        <header>
            <h1>Mission Mathématique</h1>
        </header>

        <!-- Section Principale du Jeu -->
        <main>
            <!-- Planète avec Nombre Cible -->
            <div class="planet-container">
                <img src="images/planet.png" alt="Planète" class="planet">
                <div id="targetNumber" class="target-number">32</div>
            </div>

            <!-- Salle avec les Portails et le Personnage -->
            <div class="room">
                <!-- Portails avec propositions de calculs -->
                <div class="portals-wrapper">
                    <div id="portal1" class="portal">
                        <div class="calculation">?</div>
                    </div>
                    <div id="portal2" class="portal">
                        <div class="calculation">?</div>
                    </div>
                </div>
                <div class="portals-wrapper">
                    <div id="portal3" class="portal">
                        <div class="calculation">?</div>
                    </div>
                </div>
                <!-- Personnage Astronaute placé à gauche des portails -->
                <div id="character" class="character">
                    <img src="images/astronaut.png" alt="Astronaute" />
                </div>
            </div>
        </main>

        <!-- Contrôles du Jeu et Score -->
        <footer>
            <div class="controls">
                <button id="start">Démarrer la Mission</button>
            </div>
            <div class="score-board">
                Score : <span id="score">60.0</span> ⭐
            </div>
            <!-- Boîte de Message pour les Feedbacks -->
            <div id="message" class="message-box"></div>
            <!-- Barre de Progression -->
            <div class="progress-container">
                <img src="images/astronaut.png" alt="Personnage" class="progress-character">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <img src="images/station.png" alt="Station Spatiale" class="progress-station">
            </div>
        </footer>
    </div>

    <!-- Station Spatiale (séquence de victoire) -->
    <div id="spaceStation" class="space-station">
        <img src="images/station.png" alt="Station Spatiale" />
    </div>

<!-- Section Game Over -->
<div id="gameOver" class="game-over" style="display: none;">
    <img src="images/game_over.png" alt="Game Over" class="game-over-image">
    <h2>Game Over</h2>
    <button id="newGameButton">Nouvelle Partie</button> <!-- Bouton Nouvelle Partie -->
</div>


    <!-- Sons -->
    <audio id="spaceshipSound" src="sounds/spaceship.mp3" loop></audio>
    <audio id="jetpackSound" src="sounds/jetpack.mp3"></audio>
    <audio id="correctSound" src="sounds/correct.mp3"></audio>
    <audio id="wrongSound" src="sounds/wrong.mp3"></audio>
    <!-- Sons Supplémentaires -->
    <audio id="lowOxygenSound" src="sounds/low_oxygen.mp3"></audio>
    <audio id="beepSound" src="sounds/bip.mp3"></audio>
    <audio id="comSound" src="sounds/com.mp3"></audio>
    <audio id="finalSound" src="sounds/final.mp3"></audio>
    <audio id="stressSound" src="sounds/stress.mp3"></audio>
    <!-- Son Game Over -->
    <audio id="gameOverSound" src="sounds/over.mp3"></audio>

    <!-- Fenêtre Modale pour Entrer le Nom du Joueur -->
    <div id="modal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Bravo, Capitaine !</h2>
            <p>Entrez votre nom pour enregistrer votre score :</p>
            <input type="text" id="playerName" placeholder="Votre nom" />
            <button id="saveScore">Enregistrer</button>
        </div>
    </div>

    <!-- Tableau des Scores -->
    <div id="highScores" class="high-scores" style="display:none;">
        <h2>Top Scores</h2>
        <table>
            <thead>
                <tr>
                    <th>Nom</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody id="highScoresBody">
                <!-- Les scores seront injectés ici -->
            </tbody>
        </table>
        <button id="closeHighScores">Fermer</button>
    </div>

    <!-- Script JavaScript -->
    <script src="script.js"></script>
</body>
</html>
